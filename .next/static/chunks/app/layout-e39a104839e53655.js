(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{441:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var n=r(2331),s=r(8632),a=r(8500),l=r.n(a),i=r(4645),o=r(1191),c=r(8463),d=r(2921);let m="sidebar_menu_test",u=86400,p=e=>{if("undefined"==typeof document)return"";let t=document.cookie.split("; ").find(t=>t.startsWith(`${e}=`));return t?decodeURIComponent(t.split("=")[1]):""},h=(e,t,r=u)=>{"undefined"!=typeof document&&(document.cookie=`${e}=${encodeURIComponent(t)}; max-age=${r}; path=/`)},x=({isOpen:e,setIsOpen:t})=>{(0,i.useRouter)();let[r,a]=(0,s.useState)(""),[x,f]=(0,s.useState)([{label:"Loading data ...",url_redirect:"/reactapp?app=showadview",iconType:"SlHome"}]),[b,y]=(0,s.useState)(()=>new Set),[g,w]=(0,s.useState)(null),v=(0,s.useMemo)(()=>{let e,t=window.location.hostname,r=p("apikey"),n=p("national_market")||"vi";return{apikey:r,main_domain:t&&"localhost"!==t?p("main_domain")||((e=t.split(".").filter(Boolean)).length>2?e[e.length-2]:e[0]||"hust")||"hust":p("main_domain")||"hust",national_market:n}},[]),_=v.national_market||"vi";(0,s.useEffect)(()=>{let e=window.location.hostname;a("tecom.pro"===e?"hust.media":e)},[]),(0,s.useEffect)(()=>{let e=p("latest_version");e&&h("latest_version",e,u)},[]),(0,s.useEffect)(()=>{let e=window.location.hostname,t=(e=>{try{let t,r=window.localStorage.getItem(m);if(!r)return null;let n=JSON.parse(r);if("number"!=typeof n.timestamp||!Array.isArray(n.menu)||0===n.menu.length||!n.payload||(t=n.payload,t.apikey!==e.apikey||t.main_domain!==e.main_domain||t.national_market!==e.national_market||Date.now()-n.timestamp>=216e5))return null;return n.menu}catch{return null}})(v);if(t&&"localhost"!==e)return void f(t);let r=new AbortController;return(async()=>{try{let e=await fetch("https://node_js.hust.media/community/sidebar_menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v),signal:r.signal});if(!e.ok)throw Error(`sidebar_menu http ${e.status}`);let t=await e.json(),n=t.api_results?.sidebar_menu,s=t.api_results?.latest_version;if(Array.isArray(n)&&n.length>0){let e;f(n),e={timestamp:Date.now(),menu:n,payload:v},window.localStorage.setItem(m,JSON.stringify(e))}("string"==typeof s||"number"==typeof s)&&h("latest_version",String(s),u)}catch{}})(),()=>r.abort()},[v]);let j=(e,r="")=>e.map((e,s)=>{var a;let i,m=""===r?`${s}`:`${r}-${s}`,u=Array.isArray(e.data)&&e.data.length>0,p=b.has(m),h=g===m,x=`w-full flex items-center justify-between py-1.5 px-3 text-slate-900 visited:text-slate-900 no-underline ${p||h?"bg-pink-100 border-l-2 border-pink-400 ":"bg-gray-100 "} bg-opacity-50 hover:bg-opacity-75 ${h?"font-[600]":""}`,f=(a=e.label,a?"string"==typeof a?a:a[_]||a.vi||a.en||"":""),v="SlHome"===e.iconType?(0,n.jsx)(d.dQ_,{className:"h-5 w-5 mr-2"}):"FaClock"===e.iconType?(0,n.jsx)(o.w_X,{className:"h-5 w-5 mr-2"}):e.icon_src?e.icon_src.includes("/")?(0,n.jsx)("img",{src:e.icon_src,alt:"",className:"h-5 w-5 mr-2"}):(0,n.jsx)("span",{className:"h-5 w-5 mr-2 flex items-center justify-center",children:e.icon_src}):null;return(0,n.jsxs)("div",{className:"border-t border-gray-300 last:border-b",children:[u?(0,n.jsxs)("button",{type:"button",className:x,onClick:()=>{w(m),y(e=>{let t=new Set(e);return t.has(m)?t.delete(m):t.add(m),t})},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[v,(0,n.jsx)("div",{className:"flex-1 text-[15px] whitespace-normal break-words text-left",children:f})]}),p?(0,n.jsx)(c.wAb,{className:"h-4 w-4"}):(0,n.jsx)(c.fK4,{className:"h-4 w-4"})]}):"string"==typeof e.url_redirect&&e.url_redirect.startsWith("/next/")&&"redirect"!==e.url_mode?(0,n.jsx)(l(),{href:(i=e.url_redirect).startsWith("/next/")?i.slice(5):i,className:x,onClick:()=>{w(m),t(!1)},children:(0,n.jsxs)("div",{className:"flex items-center",children:[v,(0,n.jsx)("div",{className:"flex-1 text-[15px] whitespace-normal break-words text-left",children:f||e.url_redirect})]})}):"string"==typeof e.url_redirect&&"redirect"===e.url_mode?(0,n.jsx)("a",{href:e.url_redirect,target:"_blank",rel:"noopener noreferrer",className:x,onClick:()=>{w(m),t(!1)},children:(0,n.jsxs)("div",{className:"flex items-center",children:[v,(0,n.jsx)("div",{className:"flex-1 text-[15px] whitespace-normal break-words text-left",children:f||e.url_redirect})]})}):(0,n.jsx)("button",{type:"button",className:x,onClick:()=>{w(m),t(!1);let r="string"==typeof e.url_redirect?e.url_redirect:"";r&&(window.location.href=r)},children:(0,n.jsxs)("div",{className:"flex items-center",children:[v,(0,n.jsx)("div",{className:"flex-1 text-[15px] whitespace-normal break-words text-left",children:f||("string"==typeof e.url_redirect?e.url_redirect:"")})]})}),u&&p?(0,n.jsx)("div",{className:"pl-2",children:j(e.data,m)}):null]},m)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("nav",{style:{zIndex:e?1050:"auto"},className:`
          antialiased text-slate-900
          flex flex-col h-full overflow-y-auto
          bg-gradient-to-r from-indigo-100 via-purple-200 to-pink-200
          px-4 py-4 fixed top-0 left-0
          w-80 md:w-[280px]
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0
        `,children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("div",{className:"text-purple-400 text-[20px] font-bold",children:r}),(0,n.jsx)("button",{type:"button",onClick:()=>t(!e),className:"md:hidden text-white","aria-label":"Close menu",children:(0,n.jsx)(o.Oug,{size:24})})]}),(0,n.jsx)("div",{className:"flex flex-col border-t-2 border-b-2 border-pink-400",children:j(x)})]}),e?(0,n.jsx)("div",{className:"fixed inset-0 bg-indigo-600 bg-opacity-20 z-50 md:hidden",onClick:()=>t(!1)}):null]})},f=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{t(e=>!e)};return window.addEventListener("legacy-menu-toggle",e),()=>{window.removeEventListener("legacy-menu-toggle",e)}},[]),(0,n.jsx)("div",{children:(0,n.jsx)(x,{isOpen:e,setIsOpen:t})})}},3482:(e,t,r)=>{"use strict";r.d(t,{k5:()=>o});var n=r(8632),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(s),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function o(e){return function(t){return n.createElement(c,l({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,l({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,a=e.size,o=e.title,c=i(e,["attr","size","title"]),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==a?n.createElement(a.Consumer,null,function(e){return t(e)}):t(s)}},3494:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_87445d",variable:"__variable_87445d"}},4234:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_29dd84",variable:"__variable_29dd84"}},6599:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(2331),s=r(8632);let a=()=>{let[e,t]=(0,s.useState)(""),[r,a]=(0,s.useState)("hust"),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=window.location.hostname;t("tecom.pro"===e?"hust.media":e),i("localhost"===e),c(window.location.href.includes("shownav=NO"));let r=(e=>{if("undefined"==typeof document)return"";let t=document.cookie.split("; ").find(t=>t.startsWith(`${e}=`));return t?decodeURIComponent(t.split("=")[1]):""})("main_domain");r&&a(r)},[]),o)?null:(0,n.jsxs)("nav",{className:"sticky top-0 z-40 flex flex-wrap items-center justify-between w-full gap-2 border-b border-gray-200 bg-white pl-3 pr-2 py-2 text-sm text-gray-700 shadow-sm md:py-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{type:"button","aria-label":"Toggle menu",className:"inline-flex h-7 w-7 items-center justify-center rounded bg-pink-200 text-gray-800 hover:bg-pink-400 md:hidden",onClick:()=>{window.dispatchEvent(new Event("legacy-menu-toggle"))},children:(0,n.jsxs)("span",{className:"flex flex-col gap-0.5",children:[(0,n.jsx)("span",{className:"h-0.5 w-4 bg-purple-500"}),(0,n.jsx)("span",{className:"h-0.5 w-4 bg-purple-500"}),(0,n.jsx)("span",{className:"h-0.5 w-4 bg-purple-500"})]})}),(0,n.jsx)("button",{type:"button",className:"rounded-l bg-pink-200 px-2 py-1 text-xs font-bold text-gray-800 hover:bg-pink-400",onClick:()=>window.history.back(),children:"Prev"}),(0,n.jsx)("div",{className:"h-6 w-px bg-gray-200"}),(0,n.jsx)("button",{type:"button",className:"rounded-r bg-pink-200 px-2 py-1 text-xs font-bold text-gray-800 hover:bg-pink-400",onClick:()=>window.history.forward(),children:"Next"})]}),l?(0,n.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,n.jsx)("label",{htmlFor:"domain-select",children:"domain:"}),(0,n.jsxs)("select",{id:"domain-select",value:r,onChange:e=>{let t=e.target.value;a(t),"undefined"!=typeof document&&(document.cookie=`main_domain=${encodeURIComponent(t)}; max-age=31536000; path=/`)},className:"rounded border border-gray-300 bg-white px-1 py-0.5 text-xs",children:[(0,n.jsx)("option",{value:"hust",children:"HUST"}),(0,n.jsx)("option",{value:"tecom",children:"TECOM"})]})]}):(0,n.jsx)("span",{className:"text-xs text-gray-500"}),(0,n.jsx)("a",{href:"/",className:"rounded-full bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 px-3 py-1 text-xs font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200/70 hover:shadow hover:ring-slate-300",children:e})]})}},6872:()=>{},7175:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(8632);let s=()=>((0,n.useEffect)(()=>{},[]),null)},7830:(e,t,r)=>{Promise.resolve().then(r.bind(r,7175)),Promise.resolve().then(r.bind(r,441)),Promise.resolve().then(r.bind(r,6599)),Promise.resolve().then(r.t.bind(r,4234,23)),Promise.resolve().then(r.t.bind(r,3494,23)),Promise.resolve().then(r.t.bind(r,6872,23))}},e=>{e.O(0,[681,513,565,603,344,500,137,977,358],()=>e(e.s=7830)),_N_E=e.O()}]);